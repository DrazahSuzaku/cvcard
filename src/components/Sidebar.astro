---

export interface Props {
    activeLink: string;
}

const { activeLink } = Astro.props as Props;

const linkClass = function(page: string): string {
    const activeLinkClass = page === activeLink ? 'text-purple-200' : 'text-white';
    return "text-2xl text-center font-bold hover:bg-white hover:rounded-lg  hover:bg-opacity-25 p-4 " + activeLinkClass;
}
---

<nav class="md:hidden p-8 flex justify-center">
    <button id="buttonMenu">
        <svg class="fill-current text-white text-center h-12 w-12"  viewBox="0 -53 384 384" xmlns="http://www.w3.org/2000/svg"><path d="M368 154.668H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 32H16C7.168 32 0 24.832 0 16S7.168 0 16 0h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0M368 277.332H16c-8.832 0-16-7.168-16-16s7.168-16 16-16h352c8.832 0 16 7.168 16 16s-7.168 16-16 16zm0 0"/></svg>
    </button>
</nav>

<nav class="flex flex-col items-center" id="navbar">
    <div class="p-4">
        <p class="text-center text-white text-2xl font-bold">Eric Hazard</p>
    </div>
    <div class="">
        <div class=" flex items-center justify-center">
            <img class="w-24 h-24 md:w-48 md:h-48 object-cover rounded-full shadow-sm" src="/assets/eric-hazard.png"
                 alt="user image"/>
        </div>
    </div>

    <div class="w-full px-8 pt-8 pb-16">
        <ul class="flex flex-row gap-4 justify-center md:justify-between">
            <li>
                <img height="150" width="150" class="w-6 h-6 md:w-8 md:h-8 object-cover rounded-full  shadow-sm"
                     src="/assets/api-platform-logo.svg" alt="user image"/>
            </li>
            <li>
                <img  height="150" width="150" class="w-6 h-6 md:w-8 md:h-8 object-cover rounded-full  shadow-sm"
                     src="/assets/api-platform-logo.svg" alt="user image"/>
            </li>
            <li>
                <img height="150" width="150" class="w-6 h-6 md:w-8 md:h-8 object-cover rounded-full  shadow-sm"
                     src="/assets/api-platform-logo.svg" alt="user image"/>
            </li>
            <li>
                <img height="150" width="150" class="w-6 h-6 md:w-8 md:h-8 object-cover rounded-full  shadow-sm"
                     src="/assets/api-platform-logo.svg" alt="user image"/>
            </li>
            <li>
                <img height="150" width="150" class="w-6 h-6 md:w-8 md:h-8 object-cover rounded-full  shadow-sm"
                     src="/assets/api-platform-logo.svg" alt="user image"/>
            </li>
        </ul>
    </div>

    <ul class="flex flex-col gap-4">
        <li class={linkClass('index')}><a href="/">A propos de moi</a></li>
        <li class={linkClass('projets')}><a href="/projets">Mes projets</a></li>
        <li class={linkClass('competences')}><a href="/competences">Mes compétences</a></li>
        <li class={linkClass('experiences')}><a href="/experiences">Mes expériences</a></li>
        <li class={linkClass('cv')}><a href="/cv">Mon CV</a></li>
        <li class={linkClass('contact')}><a href="/contact">Me contacter</a></li>
    </ul>
</nav>

<script>
    const isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
    const navbar = document.querySelector('#navbar');
    const buttonMenu = document.querySelector("#buttonMenu");
    if(isMobile){
        navbar.classList.add('hidden');
    }

    if(buttonMenu && navbar) {
        buttonMenu.addEventListener('click', event => {
            if(navbar.classList.contains('hidden')){
                navbar.classList.remove('hidden');
            } else {
                navbar.classList.add('hidden');
            }
        });
    }
</script>