---

import MainHeader from '../components/MainHeader.astro'
import Sidebar from '../components/Sidebar.astro'

export interface Props {
title: string;
description: string;
canonicalUrl?: string;
activeLink?: string;
}

const { title, description, canonicalUrl, activeLink } = Astro.props as Props;

---

<html lang="fr">
<head>
    <MainHeader
            title={title}
            description={description}
            canonicalUrl={canonicalUrl}
    />
</head>

<body>
<div class="flex flex-col md:flex-row">
    <header class="w-screen md:w-1/6 bg-red-600 md:min-h-screen">
        <Sidebar
                activeLink={activeLink}
        />
    </header>

    <main class="w-full md:w-5/6 bg-beige-custom">
        <slot/>
    </main>
</div>

<script>
    const isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
    const navbar = document.querySelector('#navbar');
    const buttonMenu = document.querySelector("#buttonMenu");

    //  START Page Index //
    const indexSidePicture = document.querySelector('#sidePicture');
    // END Page Index //
    if(isMobile){
        navbar.classList.add('hidden');
        indexSidePicture.classList.add('hidden');
    }

    if(buttonMenu && navbar) {
        buttonMenu.addEventListener('click', () => {
            if(navbar.classList.contains('hidden')){
                navbar.classList.remove('hidden');
            } else {
                navbar.classList.add('hidden');
            }
        });
    }
</script>

</body>
</html>
